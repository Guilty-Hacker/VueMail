{"remainingRequest":"E:\\vue-cli_study\\VueMail\\mail\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue-cli_study\\VueMail\\mail\\src\\views\\detail\\Detail.vue?vue&type=style&index=0&id=117d0e76&scoped=true&lang=css&","dependencies":[{"path":"E:\\vue-cli_study\\VueMail\\mail\\src\\views\\detail\\Detail.vue","mtime":1600088774927},{"path":"E:\\vue-cli_study\\VueMail\\mail\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-cli_study\\VueMail\\mail\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\vue-cli_study\\VueMail\\mail\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\vue-cli_study\\VueMail\\mail\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue-cli_study\\VueMail\\mail\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNkZXRhaWwgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiA5OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgaGVpZ2h0OiAxMDB2aDsKfQoKLmRldGFpbC1uYXYgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB6LWluZGV4OiA5OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7Cn0KCi5jb250ZW50IHsKICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDQ0cHgpOwp9Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\n  <div id=\"detail\">\n    <detail-nav-bar class=\"detail-nav\" @titleClick=\"titleClick\"/>\n    <scroll class=\"content\" ref=\"scroll\">\n      <detail-swiper :top-images=\"topImages\"/>\n      <detail-base-info :goods=\"goods\"/>\n      <detail-shop-info :shop=\"shop\"/>\n      <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"/>\n      <detail-param-info ref=\"params\" :param-info=\"paramInfo\"/>\n      <detail-comment-info ref=\"comment\" :comment-info=\"commentInfo\"> </detail-comment-info>\n      <goods-list ref=\"recommend\" :goods=\"recommends\"> </goods-list>\n    </scroll>\n  </div>\n</template>\n\n<script>\n  import DetailNavBar from './childComps/DetailNavBar'\n  import DetailSwiper from './childComps/DetailSwiper'\n  import DetailBaseInfo from './childComps/DetailBaseInfo'\n  import DetailShopInfo from './childComps/DetailShopInfo'\n  import DetailGoodsInfo from './childComps/DetailGoodsInfo'\n  import DetailParamInfo from './childComps/DetailParamInfo'\n  import DetailCommentInfo from \"./childComps/DetailCommentInfo\";\n  import GoodsList from \"@/components/content/goods/GoodsList\";\n\n  import Scroll from '@/components/common/scroll/Scroll'\n\n  import {getDetail, Goods, Shop, GoodsParam, getRecommend} from \"../../network/detail\";\n\n  export default {\n    name: \"Detail\",\n    components: {\n      DetailNavBar,\n      DetailSwiper,\n      DetailBaseInfo,\n      DetailShopInfo,\n      DetailGoodsInfo,\n      DetailParamInfo,\n      Scroll,\n      GoodsList,\n      DetailCommentInfo\n    },\n    data() {\n      return {\n        iid: null,\n        topImages: [],\n        goods: {},\n        shop: {},\n        detailInfo: {},\n        paramInfo: {},\n        commentInfo:{},\n        recommends:[],\n        themeTopYs:[],\n      }\n    },\n    created() {\n      // 1.保存传入的iid\n      this.iid = this.$route.params.iid\n\n      // 2.根据iid请求详情数据\n      getDetail(this.iid).then(res => {\n        // 1.获取顶部的图片轮播数据\n        const data = res.result;\n        this.topImages = data.itemInfo.topImages\n\n        // 2.获取商品信息\n        this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n\n        // 3.创建店铺信息的对象\n        this.shop = new Shop(data.shopInfo)\n\n        // 4.保存商品的详情数据\n        this.detailInfo = data.detailInfo;\n\n        // 5.获取参数的信息\n        this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n\n        // 取出评论信息\n        if (data.rate.cRate !== 0){\n          this.commentInfo = data.rate.list[0]\n        }\n      })\n\n      //3.请求推荐数据\n      getRecommend().then(res => {\n        this.recommends = res.data.list\n      })\n    },\n    updated() {\n      this.themeTopYs = []\n      this.themeTopYs.push(0)\n      this.themeTopYs.push(this.$refs.params.$el.offsetTop)\n      this.themeTopYs.push(this.$refs.comment.$el.offsetTop)\n      this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)\n      console.log(this.themeTopYs);\n    },\n    methods: {\n      imageLoad() {\n        this.$refs.scroll.refresh()\n      },\n      titleClick(index){\n        // console.log(index);\n        this.$refs.scroll.Scroll(0, -this.themeTopYs[index])\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  #detail {\n    position: relative;\n    z-index: 9;\n    background-color: #fff;\n    height: 100vh;\n  }\n\n  .detail-nav {\n    position: relative;\n    z-index: 9;\n    background-color: #fff;\n  }\n\n  .content {\n    height: calc(100% - 44px);\n  }\n</style>\n"]}]}